(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a(56)},41:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){var r={"./4-fromages.jpg":47,"./marguerita.jpg":48,"./pepperoni.jpg":49,"./reine.jpg":50};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=46},47:function(e,t,a){e.exports=a.p+"static/media/4-fromages.bf16a90d.jpg"},48:function(e,t,a){e.exports=a.p+"static/media/marguerita.44ae2bd2.jpg"},49:function(e,t,a){e.exports=a.p+"static/media/pepperoni.b9c11f75.jpg"},50:function(e,t,a){e.exports=a.p+"static/media/reine.f4fde97f.jpg"},56:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(21),c=a.n(i),o=a(23),s=a(10),l=a(17),d=a(26),p="ADD_ORDER",m="ADD_PIZZA_ORDER",u="SET_ORDER_PAID",f="DELETE_ORDER",E={pizzas:{marg:{name:"Marguerita",price:7.9,image:"marguerita.jpg"},pepp:{name:"Pepperoni",price:11.9,image:"pepperoni.jpg"},"4fro":{name:"4 fromages",price:10.9,image:"4-fromages.jpg"},rein:{name:"Reine",price:9.9,image:"reine.jpg"}},orders:JSON.parse(localStorage.getItem("orders"))||[]};a(41);var h=a(7),v=a(8),O=a(11),g=a(9),z=a(12),b=a(19),y=a(14),j=a(13),N=function(e){var t=e.history,a=e.isHome,r=void 0!==a&&a;return n.a.createElement("header",{className:"App-header"},r?"":n.a.createElement(j.a,{icon:"arrow-left",size:"2x",className:"back-button",onClick:function(){t.push("/")}}),n.a.createElement("div",{className:"title-wrapper"},n.a.createElement(j.a,{icon:"pizza-slice"}),n.a.createElement("h1",{className:"display-1"},"Pizza Olivarius")))},w=function(e){var t=e.name,a=e.description,r=e.icon,i=e.bgColor,c=e.action;return n.a.createElement("div",{className:"tile",onClick:c,style:{backgroundColor:i}},n.a.createElement("div",{className:"tile-icon"},n.a.createElement(j.a,{icon:r})),n.a.createElement("div",{className:"tile-text"},n.a.createElement("h2",null,t),n.a.createElement("p",null,a)))};a(45);b.b.add(y.e,y.f,y.d,y.c,y.b,y.g,y.a);var C=[{name:"Nouvelle commande",description:"Cr\xe9er et enregistrer une nouvelle commande",icon:"shipping-fast",bgColor:"#006994",action:"new"},{name:"Commande en cours",description:"Voir le d\xe9tail des commandes en cours",icon:"fire",bgColor:"#911d00",action:"orders"},{name:"Paiement commande",description:"Encaisser une commande",icon:"euro-sign",bgColor:"#009130",action:"payment-order"}],k=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(O.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).handleClick=function(e){a.props.history.push(e)},a}return Object(z.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=C.map(function(t){return n.a.createElement(w,{key:t.action,name:t.name,description:t.description,icon:t.icon,bgColor:t.bgColor,action:function(){return e.handleClick(t.action)}})});return n.a.createElement("div",{className:"App"},n.a.createElement(N,{history:this.props.history,isHome:!0}),n.a.createElement("div",{className:"tiles-wrapper"},t))}}]),t}(r.Component),D=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(O.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).componentDidMount=function(){var e="CMD-".concat(Date.now());a.props.addOrder(e),a.props.history.push("order/".concat(e))},a}return Object(z.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return""}}]),t}(r.Component),S=Object(s.b)(null,function(e){return{addOrder:function(t){e(function(e){return{type:p,payload:{id:e,pizzas:{},total:0,paid:!1}}}(t))}}})(D),x=function(e){var t=e.name,r=e.price,i=e.image,c=e.addToOrder;return r=r.toLocaleString(navigator.language,{minimumFractionDigits:2}),n.a.createElement("div",{className:"pizza-wrapper",onClick:c},n.a.createElement("div",{className:"pizza"},n.a.createElement("img",{src:a(46)("./".concat(i)),alt:"",className:"pizza-image"}),n.a.createElement("div",{className:"pizza-text"},n.a.createElement("h3",null,t),n.a.createElement("div",{className:"pizza-price"},r,"\u20ac"))))},_=function(e){var t=e.pizzas,a=e.orderPizzas,i=e.total,c=e.paid,o=void 0!==c&&c,s=e.setPaid,l=void 0!==s&&s,d=Object.keys(a).map(function(e){var r=Math.round(t[e].price*a[e]*10)/10;return n.a.createElement("div",{className:"order-details-item",key:e},n.a.createElement("div",{className:"pizza-details"},n.a.createElement("span",null,t[e].name),n.a.createElement("span",null,r,"\u20ac")),n.a.createElement("div",{className:"price-details"},"(",a[e]," x ",t[e].price,"\u20ac)"))});return n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"order-details-list"},d),n.a.createElement("div",{className:"order-summary"},n.a.createElement("div",{className:"order-total"},"Soit un total de : ",n.a.createElement("strong",null,i,"\u20ac")),o?n.a.createElement("button",{className:"order-paid-button",onClick:l},"Encaisser la commande"):""))},P=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(O.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).handleClick=function(e,t){a.props.addPizzaOrder(e,t)},a}return Object(z.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props.match.params.oid,a=this.props.orders.findIndex(function(e){return e.id===t}),r=Object.keys(this.props.pizzas).map(function(a){return n.a.createElement(x,{key:a,name:e.props.pizzas[a].name,price:e.props.pizzas[a].price,image:e.props.pizzas[a].image,addToOrder:function(){return e.handleClick(t,a)}})});return n.a.createElement("div",{className:"App"},n.a.createElement(N,{history:this.props.history}),n.a.createElement("div",{className:"order"},n.a.createElement("div",{className:"pizzas-wrapper"},r),n.a.createElement("div",{className:"order-details-wrapper"},n.a.createElement("div",{className:"order-details"},n.a.createElement("h2",null,"D\xe9tail de la commande n\xb0",t),n.a.createElement(_,{pizzas:this.props.pizzas,orderPizzas:this.props.orders[a].pizzas,total:this.props.orders[a].total})))))}}]),t}(r.Component),A=Object(s.b)(function(e){return{pizzas:e.pizzas,orders:e.orders}},function(e){return{addPizzaOrder:function(t,a){e(function(e,t){return{type:m,payload:{id:e,pizza:t}}}(t,a))}}})(P),I=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(a=Object(O.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(i)))).state={selectedOrder:{}},a.handleChange=function(e){var t=e.target.value,r=a.props.orders.findIndex(function(e){return e.id===t});a.setState({selectedOrder:a.props.orders[r]})},a.setPaid=function(){a.props.setOrderPaid(a.state.selectedOrder.id),a.setState({selectedOrder:{}})},a.selectedOrderDisplay=function(){if(Object.keys(a.state.selectedOrder).length>0)return n.a.createElement("div",{className:"order-details"},n.a.createElement("h2",null,"D\xe9tail de la commande n\xb0",a.state.selectedOrder.id),n.a.createElement(_,{paid:!0,setPaid:function(){return a.setPaid()},pizzas:a.props.pizzas,orderPizzas:a.state.selectedOrder.pizzas,total:a.state.selectedOrder.total}))},a}return Object(z.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props.orders.filter(function(e){return!e.paid}).map(function(e){return n.a.createElement("option",{key:e.id,value:e.id},e.id," - ",e.total,"\u20ac")});return n.a.createElement("div",{className:"App"},n.a.createElement(N,{history:this.props.history}),n.a.createElement("div",{className:"payment-wrapper"},n.a.createElement("div",{className:"order-selection"},n.a.createElement("label",{htmlFor:"orderSelect"},"S\xe9lectionner la commande \xe0 encaisser"),n.a.createElement("select",{id:"orderSelect",onChange:function(t){return e.handleChange(t)}},n.a.createElement("option",{value:""}),t)),n.a.createElement("div",{className:"payment-order"},n.a.createElement("div",{className:"order-details-wrapper"},this.selectedOrderDisplay()))))}}]),t}(r.Component),R=Object(s.b)(function(e){return{pizzas:e.pizzas,orders:e.orders}},function(e){return{setOrderPaid:function(t){e(function(e){return{type:u,payload:e}}(t))}}})(I),T=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(O.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).editOrder=function(e){a.props.history.push("order/".concat(e))},a}return Object(z.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props.orders.map(function(t){return n.a.createElement("tr",{key:t.id},n.a.createElement("td",null,"Commande n\xb0",t.id),n.a.createElement("td",null,t.total,"\u20ac"),n.a.createElement("td",{className:t.paid?"bg-success":"bg-warning"},t.paid?"R\xe9gl\xe9":"En attente de paiement"),n.a.createElement("td",{className:t.paid?"order-actions hidden":"order-actions"},n.a.createElement("button",{className:"order-action-edit",onClick:function(){return e.editOrder(t.id)}},n.a.createElement(j.a,{icon:"edit",size:"2x"})),n.a.createElement("button",{className:"order-action-delete",onClick:function(){return e.props.deleteOrder(t.id)}},n.a.createElement(j.a,{icon:"trash",size:"2x"}))))});return n.a.createElement("div",{className:"App"},n.a.createElement(N,{history:this.props.history}),n.a.createElement("div",{className:"orders-list"},n.a.createElement("h2",null,"Liste des commandes"),n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"N\xb0"),n.a.createElement("th",null,"Total Commande"),n.a.createElement("th",null,"Statut Commande"),n.a.createElement("th",null,"Actions"))),n.a.createElement("tbody",null,t))))}}]),t}(r.Component),J=Object(s.b)(function(e){return{orders:e.orders}},function(e){return{deleteOrder:function(t){e(function(e){return{type:f,payload:e}}(t))}}})(T),L=function(){return n.a.createElement("h2",{className:"notFound"},"Y'a rien ici!")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=a(30),F=a(16),U=Object(o.b)(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0,r=Object(d.a)(t.orders);switch(a.type){case p:return localStorage.setItem("orders",JSON.stringify(r)),Object(l.a)({},t,{orders:[].concat(Object(d.a)(t.orders),[a.payload])});case m:var n=a.payload.id,i=a.payload.pizza;e=r.findIndex(function(e){return e.id===n});var c=Object(l.a)({},r[e]);return c.pizzas[i]?c.pizzas[i]++:c.pizzas[i]=1,c.total=Math.round(10*(c.total+t.pizzas[i].price))/10,r[e]=c,localStorage.setItem("orders",JSON.stringify(r)),Object(l.a)({},t,{orders:r});case f:return e=r.findIndex(function(e){return e.id===a.payload}),r.splice(e,1),localStorage.setItem("orders",JSON.stringify(r)),Object(l.a)({},t,{orders:r});case u:e=r.findIndex(function(e){return e.id===a.payload});var o=Object(l.a)({},r[e]);return o.paid=!0,r[e]=o,localStorage.setItem("orders",JSON.stringify(r)),Object(l.a)({},t,{orders:r});default:return t}},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(n.a.createElement(s.a,{store:U},n.a.createElement(function(){return n.a.createElement(M.a,null,n.a.createElement(F.c,null,n.a.createElement(F.a,{exact:!0,path:"/",component:k}),n.a.createElement(F.a,{path:"/new",component:S}),n.a.createElement(F.a,{path:"/order/:oid",component:A}),n.a.createElement(F.a,{exact:!0,path:"/orders",component:J}),n.a.createElement(F.a,{exact:!0,path:"/payment-order",component:R}),n.a.createElement(F.a,{component:L})))},null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.19039288.chunk.js.map